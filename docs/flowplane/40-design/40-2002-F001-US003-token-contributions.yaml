version: 2.0
story: F001-US003
feature: F001

contributed_tokens:
  colors:
    semantic:
      complexity_low:
        value: "green.500"
        justification: "Visual indicator for low complexity strategies in optimization interface"
        usage_count: 3
        elements: ["complexity-meter", "parameter-indicator", "optimization-badge"]
        
      complexity_medium:
        value: "yellow.500"
        justification: "Visual indicator for medium complexity strategies requiring attention"
        usage_count: 3
        elements: ["complexity-meter", "parameter-indicator", "optimization-badge"]
        
      complexity_high:
        value: "red.500"
        justification: "Visual indicator for high complexity strategies needing optimization"
        usage_count: 3
        elements: ["complexity-meter", "parameter-indicator", "optimization-badge"]

  spacing:
    semantic:
      parameter_group_gap:
        value: "spacing.scale.8"
        justification: "Consistent spacing between parameter groups in configuration forms"
        usage_count: 4
        elements: ["parameter-section", "optimization-controls", "results-groups", "metric-clusters"]
        
      complexity_meter_height:
        value: "spacing.scale.4"
        justification: "Standard height for complexity visualization meters and progress indicators"
        usage_count: 2
        elements: ["complexity-meter", "robustness-indicator"]

  typography:
    semantic:
      parameter_value:
        value: "lg"
        justification: "Emphasized typography for parameter values and optimization results"
        usage_count: 3
        elements: ["parameter-display", "optimization-result", "complexity-score"]

documented_exceptions:
  complexity_gradient_background:
    value: "linear-gradient(90deg, #22c55e 0%, #f59e0b 50%, #ef4444 100%)"
    justification: "Complexity meter requires CSS gradient for smooth color transition from low to high complexity"
    usage: "Complexity meter background only"
    mitigation: "Will parameterize when design system adds gradient token support"
    
  parameter_range_thumb:
    value: "box-shadow: 0 0 0 4px rgba(59, 130, 246, 0.2)"
    justification: "Range slider thumb requires specific box-shadow for focus state, not covered by existing shadow tokens"
    usage: "Parameter range slider focus state"
    mitigation: "Consider adding focus ring tokens to design system effects category"
    
token_usage_summary:
  existing_tokens_used: 88  # percentage
  new_patterns_proposed: 10  # percentage
  documented_exceptions: 2   # percentage
  
  existing_breakdown:
    p25_original: 75
    p40_10_contributions: 13
    
pattern_rationale: "Complexity visualization patterns essential for strategy optimization interface, reusable across validation and portfolio management features that deal with strategy complexity scoring"