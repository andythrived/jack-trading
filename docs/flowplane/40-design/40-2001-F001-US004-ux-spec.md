# UX Specification: F001-US004
## Version: 2.0

## Overview
Enable users to discover and evaluate trading strategies with low correlation to existing portfolio strategies, ensuring diversification through automated correlation analysis and clear visual indicators of strategy relationships.

## User Flow (Happy Path)
1. Entry: User navigates to Strategy Discovery from main navigation → System displays discovery interface with correlation filter controls
2. Analysis: User reviews correlation matrix and selects correlation threshold → System filters strategies showing only those below threshold with existing portfolio
3. Evaluation: User examines uncorrelated strategies with correlation scores → System highlights diversification benefits and portfolio impact
4. Selection: User approves strategies for validation → System adds to validation queue with correlation tracking enabled

## Screen Specifications

### Screen: Strategy Discovery Dashboard
**Purpose**: Main interface for discovering strategies with correlation analysis controls

**Layout**:
- USES: main_navigation from P40-10
- USES: page_container from P40-10
- USES: grid_layout from P40-10 (2-column: filters + results)
- USES: sidebar_layout from P40-10 (correlation controls in sidebar)

**Design Tokens**:
```yaml
layout:
  container_padding: "spacing.semantic.2xl"
  content_gap: "spacing.semantic.xl"
  sidebar_width: "320px"
  
colors:
  background: "colors.semantic.background"
  sidebar_background: "colors.semantic.surface"
  border: "colors.semantic.border.default"
  
typography:
  page_title: "typography.semantic.h2"
  section_title: "typography.semantic.h4"
  body_text: "typography.semantic.body"
```

**Component Customization**:
```yaml
sidebar_layout:
  overrides:
    sidebar_width: "320px"
    sidebar_padding: "spacing.semantic.xl"
    
grid_layout:
  overrides:
    columns: 2
    gap: "spacing.semantic.xl"
```

**Interactions**:
- Adjust correlation threshold slider: Updates strategy list with `effects.semantic_transitions.normal`
- Toggle correlation view: Switches between matrix and list view with `effects.semantic_transitions.fast`
- Filter by asset class: Applies filters with loading state using `colors.semantic.primary`

**Responsive Behavior**:
- Mobile (<768px): Stack sidebar below main content, reduce correlation matrix complexity
- Desktop (>768px): Side-by-side layout with full correlation matrix visualization

### Screen: Correlation Analysis View
**Purpose**: Detailed correlation matrix and relationship visualization between strategies

**Layout**:
- USES: data_card from P40-10 (correlation metrics)
- USES: data_table from P40-10 (strategy correlation matrix)
- USES: button from P40-10 (filter controls)

**Design Tokens**:
```yaml
correlation_matrix:
  cell_size: "spacing.semantic.2xl"
  border_color: "colors.semantic.border.default"
  text_color: "colors.semantic.text.primary"
  
correlation_indicators:
  low_correlation: "colors.semantic.status.success"
  medium_correlation: "colors.semantic.status.warning"  
  high_correlation: "colors.semantic.status.error"
  
spacing:
  matrix_padding: "spacing.semantic.lg"
  legend_gap: "spacing.semantic.md"
  
typography:
  correlation_value: "typography.semantic.data_table"
  legend_text: "typography.semantic.caption"
```

**Component Customization**:
```yaml
data_table:
  overrides:
    cell_padding: "spacing.semantic.sm"
    header_background: "colors.semantic.surface"
    
data_card:
  overrides:
    padding: "spacing.semantic.lg"
    gap: "spacing.semantic.sm"
```

**Interactions**:
- Hover correlation cell: Shows detailed correlation info with `effects.semantic.card_hover`
- Click strategy name: Opens strategy details modal with `effects.semantic_transitions.modal`
- Adjust threshold: Real-time filtering with `colors.semantic.primary` highlight

### Screen: Strategy Selection Interface
**Purpose**: Review and select uncorrelated strategies for portfolio addition

**Layout**:
- USES: strategy_card from P40-10 (strategy display)
- USES: grid_layout from P40-10 (strategy grid)
- USES: metric_display from P40-10 (correlation metrics)
- USES: button from P40-10 (selection actions)

**Design Tokens**:
```yaml
strategy_grid:
  columns: 3
  gap: "spacing.semantic.lg"
  
selection_indicators:
  selected_border: "colors.semantic.primary"
  unselected_border: "colors.semantic.border.default"
  correlation_badge_bg: "colors.semantic.primary_light"
  
spacing:
  card_spacing: "spacing.semantic.lg"
  action_bar_padding: "spacing.semantic.xl"
  
typography:
  correlation_score: "typography.semantic.price"
  selection_count: "typography.semantic.h5"
```

**Component Customization**:
```yaml
strategy_card:
  overrides:
    border_selected: "colors.semantic.primary"
    border_width: "borders.width.thick"
    
metric_display:
  overrides:
    value_color: "colors.semantic.primary"
    label_color: "colors.semantic.text.secondary"
```

**Interactions**:
- Select strategy: Card border changes to `colors.semantic.primary` with `effects.semantic_transitions.fast`
- View correlation details: Expands correlation breakdown with `effects.semantic_transitions.normal`
- Batch select: Multiple selection with visual feedback using `colors.semantic.primary_light`

## State Management
**States with Token References**:
```yaml
loading_correlation_analysis:
  spinner_color: "colors.semantic.primary"
  overlay_background: "colors.semantic.surface"
  
correlation_threshold_active:
  slider_color: "colors.semantic.primary"
  track_color: "colors.semantic.border.default"
  
strategy_selected:
  border_color: "colors.semantic.primary"
  background_tint: "colors.semantic.primary_light"
  
no_uncorrelated_strategies:
  message_color: "colors.semantic.text.secondary"
  background: "colors.semantic.surface"
```

## Shared Components Usage Summary
- main_navigation: Header navigation
- page_container: Main page wrapper
- sidebar_layout: Correlation controls layout
- grid_layout: Strategy grid display
- data_card: Correlation metric cards
- strategy_card: Individual strategy display
- data_table: Correlation matrix table
- metric_display: Key correlation metrics
- button: Filter and selection controls
- loading_spinner: Analysis loading states

## Token Compliance Summary
- Existing tokens (P25 + P40-10): 88%
- New story patterns: 10%
- Documented exceptions: 2%