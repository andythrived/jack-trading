version: 2.0
story: F003-US002
feature: F003

contributed_tokens:
  colors:
    semantic:
      rotation_pending:
        value: "blue.100"
        justification: "Light background for strategies pending rotation decision"
        usage_count: 3
        elements: ["strategy-card-pending", "table-row-pending", "status-indicator"]
        
      audit_neutral:
        value: "gray.100"
        justification: "Neutral background for audit log entries with no performance impact"
        usage_count: 2
        elements: ["audit-row-background", "history-card-neutral"]

  spacing:
    semantic:
      rotation_timeline_gap:
        value: "spacing.scale.8"
        justification: "Consistent spacing between timeline elements in rotation history"
        usage_count: 4
        elements: ["timeline-item", "audit-entry", "history-step", "rotation-phase"]
        
      performance_metric_spacing:
        value: "spacing.scale.5"
        justification: "Optimal spacing between performance metrics in analysis grid"
        usage_count: 3
        elements: ["metric-grid-gap", "performance-row", "analysis-section"]

  effects:
    transitions:
      rotation_fade:
        value: "400ms cubic-bezier(0.25, 0.46, 0.45, 0.94)"
        justification: "Smooth fade transition for strategy rotation state changes"
        usage_count: 2
        elements: ["strategy-state-change", "rotation-animation"]

documented_exceptions:
  performance_impact_gradient:
    value: "linear-gradient(90deg, rgba(34, 197, 94, 0.1) 0%, rgba(239, 68, 68, 0.1) 100%)"
    justification: "Performance impact visualization requires CSS gradient for smooth color transition from profit to loss"
    usage: "Performance analysis chart background only"
    mitigation: "Will parameterize when design system adds gradient token support"
    
token_usage_summary:
  existing_tokens_used: 88  # percentage
  new_patterns_proposed: 10  # percentage
  documented_exceptions: 2   # percentage
  
  existing_breakdown:
    p25_original: 75
    p40_10_contributions: 13
    
pattern_rationale: "Automated rotation workflows require specific visual states for pending decisions and audit trails, reusable across portfolio management features F003-US001 and F003-US003"