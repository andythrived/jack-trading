# UX Specification: F005-US002
## Version: 2.0

## Overview
Enable users to access aggregated market research and news relevant to their active strategies, providing context for strategy performance and market conditions without requiring deep financial expertise.

## User Flow (Happy Path)
1. Entry: User navigates to strategy details page and clicks "Market Context" tab
2. Research Loading: System displays loading state while aggregating relevant research
3. Content Display: Research articles and news appear organized by relevance to strategy
4. Interaction: User can expand articles, filter by source, and bookmark items
5. Completion: User gains market context understanding for strategy performance

## Screen Specifications

### Screen: Market Research Dashboard
**Purpose**: Display aggregated research and news relevant to active strategies

**Layout**:
- USES: page_container from P40-10
- USES: breadcrumb from P40-10
- USES: loading_spinner from P40-10
- Grid: Two-column layout with filters sidebar and main content area

**Design Tokens**:
```yaml
layout:
  container_padding: "spacing.semantic.2xl"
  content_gap: "spacing.semantic.xl"
  sidebar_width: "280px"
  
colors:
  background: "colors.semantic.background"
  sidebar_background: "colors.semantic.surface"
  content_background: "colors.semantic.surface_elevated"
  text_primary: "colors.semantic.text.primary"
  text_secondary: "colors.semantic.text.secondary"
  border: "colors.semantic.border.default"
  
typography:
  page_title: "typography.semantic.h2"
  section_title: "typography.semantic.h4"
  body_text: "typography.semantic.body"
  caption: "typography.semantic.caption"
  
effects:
  card_shadow: "effects.semantic.card"
  transition: "effects.semantic_transitions.normal"
```

**Component Customization**:
```yaml
breadcrumb:
  overrides:
    path: ["Dashboard", "Strategy Details", "Market Context"]
    
page_container:
  overrides:
    title: "Market Research & Context"
    subtitle: "Relevant news and analysis for your active strategies"
```

**Interactions**:
- Click filter option: Update content with `effects.semantic_transitions.normal`
- Hover research card: Apply `effects.semantic.card_hover`
- Click expand article: Open modal with full content

**Responsive Behavior**:
- Mobile (<768px): Stack sidebar below header, `spacing.semantic.lg`
- Desktop (>768px): Side-by-side layout, `spacing.semantic.xl`

### Screen: Research Article Modal
**Purpose**: Display full research article content in focused view

**Layout**:
- USES: modal from P40-10
- USES: button from P40-10
- Single column content with header, body, and actions

**Design Tokens**:
```yaml
layout:
  modal_width: "800px"
  content_padding: "spacing.semantic.3xl"
  section_gap: "spacing.semantic.xl"
  
colors:
  background: "colors.semantic.surface_elevated"
  text_primary: "colors.semantic.text.primary"
  text_secondary: "colors.semantic.text.secondary"
  accent: "colors.semantic.primary"
  
typography:
  article_title: "typography.semantic.h3"
  article_body: "typography.semantic.body"
  metadata: "typography.semantic.caption"
  
effects:
  modal_shadow: "effects.semantic.modal"
```

**Component Customization**:
```yaml
modal:
  overrides:
    size: "lg"
    title: "[Article Title]"
    
button:
  overrides:
    variant: "secondary"
    text: "Bookmark Article"
```

**Interactions**:
- Click bookmark: Toggle state with `colors.semantic.primary`
- Click close: Modal dismisses with `effects.semantic_transitions.modal`
- Scroll content: Smooth scrolling with proper focus management

## State Management
**States with Token References**:
```yaml
loading:
  spinner_color: "colors.semantic.primary"
  overlay_background: "colors.semantic.surface"
  
content_loaded:
  card_background: "colors.semantic.surface_elevated"
  text_color: "colors.semantic.text.primary"
  
filter_active:
  background: "colors.semantic.primary_light"
  text: "colors.semantic.primary"
  border: "colors.semantic.primary"
  
bookmark_saved:
  icon_color: "colors.semantic.primary"
  background: "colors.semantic.primary_light"
```

## Research Content Components

### Research Card
**Design Tokens**:
```yaml
colors:
  background: "colors.semantic.surface_elevated"
  border: "colors.semantic.border.default"
  text_primary: "colors.semantic.text.primary"
  text_secondary: "colors.semantic.text.secondary"
  relevance_high: "colors.semantic.status.success"
  relevance_medium: "colors.semantic.status.warning"
  
spacing:
  padding: "spacing.semantic.2xl"
  gap: "spacing.semantic.lg"
  margin_bottom: "spacing.semantic.lg"
  
typography:
  headline: "typography.semantic.h5"
  source: "typography.semantic.caption"
  summary: "typography.semantic.body"
  
borders:
  radius: "borders.semantic.card"
  width: "borders.width.default"
  
effects:
  shadow: "effects.semantic.card"
  hover_shadow: "effects.semantic.card_hover"
```

### Filter Sidebar
**Design Tokens**:
```yaml
colors:
  background: "colors.semantic.surface"
  border: "colors.semantic.border.default"
  filter_active: "colors.semantic.primary_light"
  filter_text: "colors.semantic.text.primary"
  
spacing:
  padding: "spacing.semantic.xl"
  filter_gap: "spacing.semantic.md"
  section_gap: "spacing.semantic.xl"
  
typography:
  section_title: "typography.semantic.h6"
  filter_label: "typography.semantic.body_sm"
```

## Content Organization

### Research Categories
- **Strategy-Specific**: Direct relevance to active strategy patterns
- **Market Analysis**: Broader market conditions affecting strategy performance  
- **Economic Indicators**: Macro factors influencing strategy effectiveness
- **Sector News**: Industry-specific developments for equity strategies

### Relevance Scoring Display
```yaml
high_relevance:
  indicator_color: "colors.semantic.status.success"
  background: "colors.semantic.success_light"
  
medium_relevance:
  indicator_color: "colors.semantic.status.warning"
  background: "colors.semantic.warning_light"
  
low_relevance:
  indicator_color: "colors.semantic.neutral"
  background: "colors.semantic.surface"
```

## Shared Components Usage Summary
- page_container: Main layout structure
- breadcrumb: Navigation context
- modal: Article detail view
- button: Actions and filters
- loading_spinner: Content loading states

## Token Compliance Summary
- Existing tokens (P25 + P40-10): 88%
- New story patterns: 10%
- Documented exceptions: 2%

## Accessibility Considerations
- Research cards have proper heading hierarchy
- Filter controls are keyboard accessible
- Modal maintains focus management
- Content has sufficient color contrast using semantic text tokens
- Screen reader announcements for dynamic content updates