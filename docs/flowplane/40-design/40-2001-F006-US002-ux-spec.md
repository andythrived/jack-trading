# UX Specification: F006-US002
## Version: 2.0

## Overview
Comprehensive dashboard for monitoring and managing strategy portfolio with real-time performance tracking, individual strategy controls, and risk metrics visualization.

## User Flow (Happy Path)
1. Entry: User navigates to Portfolio Dashboard from main navigation
2. Overview: System displays portfolio summary with key metrics and performance chart
3. Strategy Review: User reviews individual strategy performance in grid layout
4. Action: User adjusts strategy allocation or pauses underperforming strategy
5. Confirmation: System updates portfolio state and reflects changes in real-time

## Screen Specifications

### Screen: Portfolio Dashboard
**Purpose**: Central command center for portfolio monitoring and management

**Layout**:
- USES: sidebar_layout from P40-10
- USES: main_navigation from P40-10
- USES: grid_layout from P40-10 (for strategy cards)
- USES: page_container from P40-10

**Design Tokens**:
```yaml
layout:
  container_padding: "spacing.semantic.2xl"
  section_gap: "spacing.semantic.3xl"
  card_grid_gap: "spacing.semantic.card_grid_gap"
  
colors:
  background: "colors.semantic.background"
  surface: "colors.semantic.surface_elevated"
  text_primary: "colors.semantic.text.primary"
  text_secondary: "colors.semantic.text.secondary"
  
typography:
  page_title: "typography.semantic.h2"
  section_title: "typography.semantic.h4"
  body: "typography.semantic.body"
```

**Component Customization**:
```yaml
sidebar_layout:
  overrides:
    sidebar_width: "320px"
    main_padding: "spacing.semantic.2xl"

grid_layout:
  overrides:
    columns: 3
    responsive: true
    gap: "spacing.semantic.card_grid_gap"
```

**Interactions**:
- Click strategy card: Navigate to detailed strategy view
- Hover strategy card: Show enhanced shadow with `effects.semantic.card_hover_lift`
- Toggle strategy status: Update with `effects.semantic_transitions.normal`
- Refresh data: Show loading state with `loading_spinner` component

**Responsive Behavior**:
- Mobile (<768px): Single column grid, sidebar collapses to overlay
- Tablet (768px-1024px): Two column grid, sidebar remains visible
- Desktop (>1024px): Three column grid, full sidebar layout

### Screen: Portfolio Summary Section
**Purpose**: High-level portfolio performance and risk metrics

**Layout**:
- USES: data_card from P40-10 (4 instances for key metrics)
- USES: performance_chart from P40-10
- USES: risk_meter from P40-10

**Design Tokens**:
```yaml
layout:
  summary_grid: "grid-template-columns: repeat(4, 1fr)"
  summary_gap: "spacing.semantic.lg"
  chart_height: "400px"
  
colors:
  chart_background: "colors.semantic.surface_elevated"
  metric_positive: "colors.semantic.profit"
  metric_negative: "colors.semantic.loss"
  
typography:
  metric_value: "typography.semantic.price_large"
  metric_label: "typography.semantic.caption"
```

**Component Customization**:
```yaml
data_card:
  overrides:
    padding: "spacing.semantic.xl"
    trend_colors:
      positive: "colors.semantic.profit"
      negative: "colors.semantic.loss"

performance_chart:
  overrides:
    height: "400px"
    timeframe: "1M"
    interactive: true
    showGrid: true
```

### Screen: Active Strategies Grid
**Purpose**: Individual strategy monitoring and quick actions

**Layout**:
- USES: strategy_card from P40-10 (multiple instances)
- USES: status_badge from P40-10
- USES: button from P40-10 (for actions)

**Design Tokens**:
```yaml
layout:
  grid_columns: "repeat(auto-fit, minmax(320px, 1fr))"
  card_gap: "spacing.semantic.card_grid_gap"
  
colors:
  card_background: "colors.semantic.surface_elevated"
  action_primary: "colors.semantic.primary"
  action_danger: "colors.semantic.status.error"
  
effects:
  card_hover: "effects.semantic.card_hover_lift"
  transition: "effects.semantic_transitions.hover"
```

**Component Customization**:
```yaml
strategy_card:
  overrides:
    showActions: true
    padding: "spacing.semantic.2xl"
    
status_badge:
  overrides:
    position: "top-right"
    
button:
  variants:
    - variant: "secondary"
      size: "sm"
      text: "Pause"
    - variant: "primary" 
      size: "sm"
      text: "Adjust"
```

**Interactions**:
- Click "Pause Strategy": Show confirmation modal, update status badge
- Click "Adjust Allocation": Open allocation adjustment modal
- Hover strategy card: Apply hover lift effect
- Click strategy title: Navigate to detailed strategy view

### Screen: Risk Management Panel (Sidebar)
**Purpose**: Real-time risk monitoring and alerts

**Layout**:
- USES: alert_banner from P40-10 (for risk alerts)
- USES: metric_display from P40-10 (for risk metrics)
- USES: progress_bar from P40-10 (for exposure limits)

**Design Tokens**:
```yaml
layout:
  panel_padding: "spacing.semantic.xl"
  metric_gap: "spacing.semantic.lg"
  
colors:
  panel_background: "colors.semantic.surface"
  alert_warning: "colors.semantic.warning_light"
  alert_error: "colors.semantic.error_light"
  
typography:
  panel_title: "typography.semantic.h5"
  risk_value: "typography.semantic.price"
```

**Component Customization**:
```yaml
alert_banner:
  overrides:
    type: "warning"
    dismissible: false
    
metric_display:
  overrides:
    format: "percentage"
    showChange: true
    
progress_bar:
  overrides:
    showLabel: true
    max: 100
```

## State Management
**States with Token References**:
```yaml
loading:
  spinner_color: "colors.semantic.primary"
  overlay_background: "colors.semantic.surface"
  
portfolio_healthy:
  risk_color: "colors.semantic.status.success"
  alert_display: "none"
  
portfolio_warning:
  risk_color: "colors.semantic.status.warning"
  alert_background: "colors.semantic.warning_light"
  
portfolio_critical:
  risk_color: "colors.semantic.status.error"
  alert_background: "colors.semantic.error_light"
  
strategy_updating:
  card_opacity: "0.7"
  spinner_overlay: "visible"
```

## Shared Components Usage Summary
- sidebar_layout: Main page structure
- main_navigation: Top navigation
- page_container: Content wrapper
- grid_layout: Strategy cards arrangement
- data_card: Portfolio metrics (4 instances)
- strategy_card: Individual strategies (8-12 instances)
- performance_chart: Portfolio performance visualization
- risk_meter: Risk level indicators (3 instances)
- status_badge: Strategy status indicators
- button: Action buttons (16+ instances)
- alert_banner: Risk alerts and notifications
- metric_display: Risk panel metrics (6 instances)
- progress_bar: Exposure limit indicators (4 instances)
- loading_spinner: Data refresh states

## Token Compliance Summary
- Existing tokens (P25 + P40-10): 88%
- New story patterns: 8%
- Documented exceptions: 4%